# ğŸ¨ VISUAL: CÃ³mo se ve la ImplementaciÃ³n

## 1. PÃ¡gina de Login (Nueva)

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                    â•‘
â•‘                    ğŸ“ Sistema de GestiÃ³n                          â•‘
â•‘              Certificados y Presupuesto                           â•‘
â•‘                                                                    â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                    â•‘
â•‘  âœ‰ï¸  Correo Institucional                                         â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘
â•‘  â”‚ usuario@institucion.com                                    â”‚  â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘
â•‘                                                                    â•‘
â•‘  ğŸ” ContraseÃ±a                                                    â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘
â•‘  â”‚ â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢                                                 â”‚  â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘
â•‘                                                                    â•‘
â•‘  ğŸ“… AÃ±o de Trabajo  â† â­ NUEVO CAMPO                            â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘
â•‘  â”‚ 2026                                        â–¼             â”‚  â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘
â•‘     Opciones: 2026, 2025, 2024, 2023, 2022, 2021               â•‘
â•‘                                                                    â•‘
â•‘  â˜ RecuÃ©rdame en este dispositivo                                â•‘
â•‘                                                                    â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘
â•‘  â”‚        ğŸ” INICIAR SESIÃ“N                                  â”‚  â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘
â•‘                                                                    â•‘
â•‘  â„¹ï¸  Credenciales de Prueba                                     â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘
â•‘  â”‚ Admin: admin@institucion.com / admin123                   â”‚  â•‘
â•‘  â”‚ Operador: encargado@institucion.com / encargado123        â”‚  â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘
â•‘                                                                    â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  Â© 2026 - Sistema de GestiÃ³n de Certificados y Presupuesto       â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## 2. Navbar (Barra Superior)

### Antes (Sin selector de aÃ±o):
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ Sistema de GestiÃ³n    [Home] [Certificados â–¼] [Usuarios â–¼] [ğŸ‘¤ Juan â–¼] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### DespuÃ©s (Con selector de aÃ±o):
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ Sistema de GestiÃ³n  ğŸ“… [2026 â–¼] AÃ±o Actual  [Home] [Certificados â–¼] ... â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†‘
              NUEVO: Selector rÃ¡pido de aÃ±o
```

---

## 3. Cambiar AÃ±o (Comportamiento)

### Paso 1: Usuario hace clic en el dropdown
```
ğŸ“… [2026 â–¼] AÃ±o Actual
   â”œâ”€ 2026  âœ“ (seleccionado actualmente)
   â”œâ”€ 2025
   â”œâ”€ 2024
   â”œâ”€ 2023
   â”œâ”€ 2022
   â””â”€ 2021
```

### Paso 2: Selecciona 2025
```
ğŸ“… [2025 â–¼] AÃ±o Actual  â† Se actualiza automÃ¡ticamente
```

**Lo que sucede en el backend:**
```php
$_SESSION['aÃ±o_trabajo'] = 2025;  // Se guarda
header('Location: ' . $referer);   // Redirige a la misma pÃ¡gina
```

### Paso 3: PÃ¡gina se recarga con datos de 2025
```
Los certificados, presupuestos y todo se filtra por 2025
```

---

## 4. Flujo de SesiÃ³n del Usuario

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. PÃGINA LOGIN     â”‚
â”‚                     â”‚
â”‚ Email: [_______]    â”‚
â”‚ ContraseÃ±a: [___]   â”‚
â”‚ AÃ±o: [2026â–¼]        â”‚ â† Usuario selecciona 2026
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ Click en "Iniciar SesiÃ³n"
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. AUTHCONTROLLER                   â”‚
â”‚                                     â”‚
â”‚ âœ“ Valida email y contraseÃ±a        â”‚
â”‚ âœ“ Valida que el aÃ±o sea correcto   â”‚
â”‚ âœ“ Crea $_SESSION['aÃ±o_trabajo']=26  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. DASHBOARD                      â”‚
â”‚                                  â”‚
â”‚ ğŸ“ Sistema | ğŸ“… 2026 â–¼ | MenÃº... â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”‚
â”‚                                  â”‚
â”‚ Certificados del 2026:           â”‚
â”‚ - Cert-001 âœ“                    â”‚
â”‚ - Cert-002 âœ“                    â”‚
â”‚ - Cert-003 âœ“                    â”‚
â”‚                                  â”‚
â”‚ (Solo datos del 2026)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†‘
    Cambiar aÃ±o desde aquÃ­: ğŸ“… [2026â–¼]
```

---

## 5. Validaciones

### ValidaciÃ³n 1: Campo obligatorio
```
âŒ Si el usuario no selecciona aÃ±o:
   "Error: Debe seleccionar un aÃ±o de trabajo"
   â†’ Vuelve a la pÃ¡gina de login
```

### ValidaciÃ³n 2: Formato correcto
```
âŒ Si intenta hacer un ataque con valor invÃ¡lido:
   "Error: AÃ±o de trabajo invÃ¡lido"
   â†’ Rechaza cualquier cosa que no sea 4 dÃ­gitos
```

### ValidaciÃ³n 3: AÃ±o en sesiÃ³n
```
âœ“ El aÃ±o se mantiene en $_SESSION['aÃ±o_trabajo']
âœ“ Persiste mientras la sesiÃ³n estÃ© activa
âœ“ Se limpia al cerrar sesiÃ³n
```

---

## 6. Datos Filtrados por AÃ±o

### En la Base de Datos (Futura):
```sql
-- Tabla certificados con aÃ±o
SELECT * FROM certificados WHERE aÃ±o = 2026;

-- Resultados
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”
â”‚ id â”‚ numero_certificado â”‚ estado â”‚ aÃ±o â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤
â”‚  1 â”‚ CERT-2026-001    â”‚ ACTIVO â”‚2026â”‚
â”‚  2 â”‚ CERT-2026-002    â”‚ ACTIVO â”‚2026â”‚
â”‚  3 â”‚ CERT-2026-003    â”‚PENDIENTEâ”‚2026â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜
```

### En PHP (CÃ³digo):
```php
// Obtener el aÃ±o de trabajo actual
$aÃ±o = AuthController::obtenerAÃ±oTrabajo();  // Retorna: 2026

// Usar en query
$sql = "SELECT * FROM certificados WHERE aÃ±o = :aÃ±o";
$stmt = $this->db->prepare($sql);
$stmt->execute([':aÃ±o' => $aÃ±o]);

// Resultado: Solo certificados de 2026
```

### En la Vista (Lo que ve el usuario):
```
ğŸ“‹ CERTIFICADOS DEL AÃ‘O 2026

AÃ±o: 2026 | Total: 3 registros

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CERT-2026-001  | ACTIVO     â”‚
â”‚ Monto: $5,000  | Creado: 5d â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CERT-2026-002  | ACTIVO     â”‚
â”‚ Monto: $3,500  | Creado: 3d â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CERT-2026-003  | PENDIENTE  â”‚
â”‚ Monto: $1,200  | Creado: 1d â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 7. Casos de Uso

### Caso 1: Usuario trabaja en 2026
```
1. Login con aÃ±o 2026
2. Ve solo certificados de 2026
3. Crea un nuevo certificado â†’ Se guarda con aÃ±o 2026
4. Ve solo presupuestos de 2026
5. Todo lo que hace afecta al 2026
```

### Caso 2: Usuario necesita auditar 2025
```
1. EstÃ¡ en sesiÃ³n (aÃ±o 2026)
2. Haz clic en selector de aÃ±o
3. Selecciona 2025
4. Navega a la secciÃ³n de certificados
5. Ve SOLO certificados de 2025
6. No puede crear ni modificar (solo ver) o segÃºn permisos
7. Vuelve a cambiar a 2026 cuando termina
```

### Caso 3: Nuevo usuario inicia sesiÃ³n
```
1. Login: usuario@institucion.com / contraseÃ±a / 2026
2. Se valida el aÃ±o
3. Se crea la sesiÃ³n con aÃ±o 2026
4. Se redirige al dashboard
5. Dashboard muestra: "AÃ±o actual: 2026"
```

---

## 8. Iconos y Elementos UI

```
âœ… Login form:
   âœ‰ï¸ Icono de email
   ğŸ” Icono de candado
   ğŸ“… Icono de calendario â† NUEVO

âœ… Navbar:
   ğŸ“ Logo del sistema
   ğŸ“… Selector de aÃ±o â† NUEVO
   Home, Certificados, Usuarios, Perfil

âœ… Feedback:
   âœ“ AÃ±o se muestra en navbar
   âœ“ Se actualiza al cambiar
   âœ“ Error message si falta seleccionar
```

---

## 9. Mobile (Responsivo)

### En celular (sin espacio):
```
Navbar colapsa en menÃº hamburguesa:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ | ğŸ“… 2026â–¼ | â˜°            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Home                         â”‚
â”‚ Certificados â–¼               â”‚
â”‚ Usuarios â–¼                   â”‚
â”‚ Mi Perfil â–¼                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**âœ¨ Â¡Listo! El sistema estÃ¡ visualmente implementado.**

Ahora solo falta actualizar los modelos para filtrar realmente por aÃ±o en la BD.
